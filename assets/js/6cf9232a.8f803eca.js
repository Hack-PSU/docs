"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[445],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=r,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||i;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6146:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:5,id:"screens"},o="Screens",s={unversionedId:"mobile-app/screens",id:"mobile-app/screens",title:"Screens",description:"Screens refer to individual pages that the app can route to and from. To create a screen create the following",source:"@site/docs/mobile-app/05-Screens.md",sourceDirName:"mobile-app",slug:"/mobile-app/screens",permalink:"/docs/mobile-app/screens",draft:!1,editUrl:"https://github.com/Hack-PSU/docs/docs/mobile-app/05-Screens.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,id:"screens"},sidebar:"mobileApp",previous:{title:"Data Models",permalink:"/docs/mobile-app/data-model"},next:{title:"API",permalink:"/docs/category/api"}},l={},c=[{value:"UI",id:"ui",level:2},{value:"Skeleton",id:"skeleton",level:3},{value:"Screen Widget",id:"screen-widget",level:3},{value:"Data Layer",id:"data-layer",level:2},{value:"States",id:"states",level:3},{value:"Cubit",id:"cubit",level:3}],d={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"screens"},"Screens"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Screens")," refer to individual pages that the app can route to and from. To create a screen create the following\nstructure under the ",(0,r.kt)("inlineCode",{parentName:"p"},"screens")," folder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"screens\n\u2514\u2500\u2500 <screen_name>\n    \u251c\u2500\u2500 <screen_name>_page.dart\n    \u2514\u2500\u2500 <screen_name>_cubit.dart  // optional\n")),(0,r.kt)("p",null,"A screen can be broken up into two main parts: the UI and the data layer. The UI deals with the interface and widgets\nthat would show data and let users interact with data. The data layer prefetches, manipulates, interacts with\nrepositories, and interacts with services. The ",(0,r.kt)("inlineCode",{parentName:"p"},"<screen_name>_page.dart")," file is where the UI lives and the\n",(0,r.kt)("inlineCode",{parentName:"p"},"<screen_name>_cubit.dart")," file is where the data layer lives."),(0,r.kt)("p",null,"Widgets that are specific to the page, for example a list that shows events or a scrollable agenda to show a breakdown\nof the events for a specific day can be stored within the same folder as the page (under the ",(0,r.kt)("inlineCode",{parentName:"p"},"<screen_name>")," folder)."),(0,r.kt)("p",null,"The following two sections will assume the normal case in which a screen has a cubit associated with it."),(0,r.kt)("h2",{id:"ui"},"UI"),(0,r.kt)("p",null,"The UI portion will require two widgets: the first to initialize the cubit and the second to host all the UI widgets."),(0,r.kt)("h3",{id:"skeleton"},"Skeleton"),(0,r.kt)("p",null,"The first widget is referred to the page. This widget will initialize the cubit as a provider for the screen widgets."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"class <ScreenName>Page extends StatelessWidget {\n  const <ScreenName>Page({\n    Key? key,\n  }) : super(key: key);\n  \n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) => <ScreenName>PageCubit(\n        //...initialize cubit with context\n      ),\n      child: Screen(\n        body: const <ScreenName>Screen(),\n      ),\n    );\n  }\n}\n")),(0,r.kt)("p",null,"The second widget is referred to as the screen. This widget will include the design, interactions, and other bloc\nconsumption widgets."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"class <ScreenName>Screen extends StatelessWidget {\n  const <ScreenName>Screen({ Key? key }) : super(key: key);\n  \n  @override\n  Widget build(BuildContext context) {\n    //...return Content here\n  }\n}\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Replace any occurrence of ",(0,r.kt)("inlineCode",{parentName:"p"},"<ScreenName>")," with the name of the screen in Pascal Case")),(0,r.kt)("h3",{id:"screen-widget"},"Screen Widget"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Screen")," widget contains generic options to customize the screen. Its main function is to control padding depending\non the screen size or creating scrollable content. See more ",(0,r.kt)("a",{parentName:"p",href:"/docs/mobile-app/widgets/screen"},"here"),"."),(0,r.kt)("h2",{id:"data-layer"},"Data Layer"),(0,r.kt)("p",null,"The following widgets are used to organize the cubit for the specific page. To create a cubit, we need a widget to store\nthe states and a widget that UI widgets can interface to manipulate states."),(0,r.kt)("p",null,"The following example will assume that there will be data to be fetched in which the page will need to initially load.\nWe keep track of this using an enum for the states of the page."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"enum PageStatus { idle, loading, ready }\n")),(0,r.kt)("h3",{id:"states"},"States"),(0,r.kt)("p",null,"We can then create our state widget, which will manage all the states from the API or user interaction."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"class <ScreenName>PageCubitState {\n  const <ScreenName>PageCubitState({\n    //...insert fields here\n    this.status = PageStatus.idle,  // optionally change the name of the field\n  });\n  \n  <ScreenName>PageCubitState copyWith({\n    //...insert fields here (make all optional)\n  }) {\n    return <ScreenName>PageCubitState(\n      //...insert fields here\n    );\n  }\n}\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"copyWith")," function returns an instant of the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ScreenName>PageCubitState")," which allows the cubit to modify specific\nfields by creating a new state object without replacing previous fields."),(0,r.kt)("h3",{id:"cubit"},"Cubit"),(0,r.kt)("p",null,"A cubit is a simplified BLoC in which states are only modified through specific functions instead of through an event.\nThe following cubit will be used in the case of the need for a data fetch. We will include functions that will help\ninitializing and refetching data requests."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"class <ScreenName>PageCubit extends Cubit<<ScreenName>PageCubitState> {\n  <ScreenName>PageCubit(\n    //...insert dependencies here\n  ) : super(\n        const <ScreenName>PageCubitState(\n          //...initialize fields here\n        );\n      );\n      \n  Future<void> init() async {\n    emit(state.copyWith(status: PageStatus.loading));\n    //...insert data fetches here\n    emit(\n      state.copyWith(\n        status: PageStatus.ready,\n      ),\n    );\n  }\n  \n  void refetch() {\n    emit(state.copyWith(status: PageStatus.idle));\n  }\n}\n")),(0,r.kt)("p",null,"To trigger an initialization or a refetch, we need to listen to the states "),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Replace all occurrence of ",(0,r.kt)("inlineCode",{parentName:"p"},"<ScreenName>")," with the name of the screen in Pascal Case.")))}p.isMDXComponent=!0}}]);